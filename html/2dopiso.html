<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Formulario de Solicitud y Reserva para laboratorio</title>
</head>
<body>

<div class="container">
    <!-- Agrega tu contenido principal aquí -->
    <div class="section">
        <h2>Formulario de Solicitud y Reserva para laboratorio</h2>
        <form id="reservaForm" action="https://formsubmit.co/matfaster22@gmail.com" method="POST">
            <div class="form-group">
                <label for="nombre">Nombre:</label>
                <input type="text" id="nombre" class="form-control" placeholder="Nombre completo" required name="nombre">
            </div>
            <div class="form-group">
                <label for "codigo">Código:</label>
                <input type="text" id="codigo" class "form-control" placeholder="Código de estudiante" required name="codigo">
            </div>
            <div class "form-group">
                <label for "celular">Celular:</label>
                <input type="tel" id="celular" class="form-control" placeholder="Número de celular" required name="celular">
            </div>
            <div class="form-group">
                <label for "email">Correo Electrónico:</label>
                <input type="email" id="email" class "form-control" placeholder="Correo electrónico" required name="email">
            </div>
            <div class="form-group">
                <label for="fechaEntrada">Fecha de entrada:</label>
                <input type="date" id="fechaEntrada" class="form-control" required>
                <label for="horaEntrada">Hora de entrada:</label>
                <select id="horaEntrada" class="form-control" required>
                  <option value="08:00">8:00 AM</option>
                  <option value="09:00">9:00 AM</option>
                  <option value="10:00">10:00 AM</option>
                  <option value="11:00">11:00 AM</option>
                  <option value="14:00">2:00 PM</option>
                  <option value="15:00">3:00 PM</option>
                  <option value="16:00">4:00 PM</option>
                  <option value="17:00">5:00 PM</option>
                </select>
                <label for="horaSalida">Hora de salida:</label>
                <select id="horaSalida" class="form-control" required>
                  <option value="09:00">9:00 AM</option>
                  <option value="10:00">10:00 AM</option>
                  <option value="11:00">11:00 AM</option>
                  <option value="12:00">12:00 PM</option>
                  <option value="15:00">3:00 PM</option>
                  <option value="16:00">4:00 PM</option>
                  <option value="17:00">5:00 PM</option>
                </select>
            </div>
            <button type="button" class="btn btn-primary" id="generate">Generar Mensaje</button>
            <button type="submit" class="btn btn-success" id="enviarCorreo" disabled>Enviar Correo</button>
        </form>
        <!-- Termina el formulario de envío -->
        <p id="mensajeResultado"></p>
    </div>
</div>

<script>
    // Manejo de la generación de reserva y mensaje
    document.getElementById("generate").addEventListener("click", function() {
        const nombre = document.getElementById("nombre").value;
        const codigo = document.getElementById("codigo").value;
        const email = document.getElementById("email").value;
        const fechaEntrada = document.getElementById("fechaEntrada").value;
        const horaEntrada = document.getElementById("horaEntrada").value;
        const horaSalida = document.getElementById("horaSalida").value;

        if (validarHoras(horaEntrada, horaSalida) && validarFecha(fechaEntrada)) {
            const mensajePersonalizado = `Mediante este correo el presente alumno: ${nombre} con código: ${codigo}, solicita el uso del laboratorio. 
            Fecha de entrada: ${fechaEntrada}, Hora de entrada: ${horaEntrada}, Hora de salida: ${horaSalida}.`;

            document.getElementById("mensajeResultado").textContent = mensajePersonalizado;
            document.getElementById("enviarCorreo").removeAttribute("disabled");
        } else {
            document.getElementById("mensajeResultado").textContent = "Las horas de entrada y salida o la fecha no cumplen con los requisitos. Por favor, ajústalas.";
            document.getElementById("enviarCorreo").setAttribute("disabled", "true");
        }
    });

    function validarHoras(horaEntrada, horaSalida) {
        const horaEntradaNum = parseInt(horaEntrada.split(":")[0]);
        const horaSalidaNum = parseInt(horaSalida.split(":")[0]);

        // Validar horas de entrada y salida según el período del día
        if ((horaEntradaNum >= 8 && horaEntradaNum <= 11 && horaSalidaNum >= 9 && horaSalidaNum <= 12) ||
            (horaEntradaNum >= 14 && horaEntradaNum <= 17 && horaSalidaNum >= 15 && horaSalidaNum <= 18)) {
            return true;
        }

        return false;
    }

    function validarFecha(fecha) {
        const fechaActual = new Date();
        const fechaSeleccionada = new Date(fecha);

        return fechaSeleccionada >= fechaActual;
    }
</script>

</body>
</html>
